webpackJsonp([29],{LX8U:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("SvN9"),i=s("KiN3"),r=s("Q/W4"),a=s("oast"),n=s("GRuq"),c=s("myXI"),l=s("qTPs"),u=(i.a,r.a,a.a,n.a,{name:"login",components:{XInput:i.a,Group:r.a,XButton:a.a,Icon:n.a},data:function(){return{loginForm:{account:Object(o.h)().account,wxCode:Object(o.h)().unicode,departmentId:Object(o.c)().departmentId,loginType:1,userName:"",userPassword:""},message:{err:"",null:""},openId:"",params:{account:void 0,source:5},loading:!1}},mounted:function(){this.loginForm.loginType=1,this.sendLogin()},methods:{checkPsd:function(){return""===this.loginForm.userPassword?(this.$vux.toast.text("请输入密码","bottom"),!1):!!/^(\w){6,12}$/.test(this.loginForm.userPassword)||(this.$vux.toast.text("密码为6-12位字母，数字或者下划线","bottom"),!1)},checkName:function(){return!!this.loginForm.userName||(this.$vux.toast.text("请输入用户名","bottom"),!1)},login:function(){this.checkName()&&this.checkPsd()&&this.sendLogin()},sendLogin:function(){var t=this;console.log("登录。。。",c._11,this.loginForm),Object(l.d)(c._11,this.loginForm).then(function(e){if(e.data){localStorage.setItem("dutyCompanyId",e.data.id),Object(o.o)(e.data),t.$vux.toast.text("登录成功！","bottom");var s=t.$route.query.redirect||null;s||"/oneKeyOpenDoor"===s?t.$router.replace({path:s,query:{id:e.data.id,depId:Object(o.c)().departmentId,obj:e.data,type:0}}):t.$router.replace({path:"/faceAI/userModel/bind/addUser/",query:{id:e.data.id,depId:Object(o.c)().departmentId,obj:e.data,type:0}})}else t.$vux.toast.text("请重新登录","bottom")}).catch(function(e){t.loginForm.loginType=0,t.$vux.toast.text(e,"bottom")})},handleRegister:function(){this.$router.push({path:"/faceAI/auth/"})}}}),d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._m(0),t._v(" "),s("group",[s("x-input",{ref:"userName",staticStyle:{"font-size":".875rem"},attrs:{title:"用户名",required:"","placeholder-align":"right","text-align":"right",placeholder:"请输入用户名/手机号","show-clear":!1},model:{value:t.loginForm.userName,callback:function(e){t.$set(t.loginForm,"userName","string"==typeof e?e.trim():e)},expression:"loginForm.userName"}},[s("span",{attrs:{slot:"right"},slot:"right"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:t.loginForm.userName.length>0,expression:"loginForm.userName.length > 0"}],attrs:{type:"clear"},nativeOn:{click:function(e){t.$refs.userName.reset()}}})],1)]),t._v(" "),s("x-input",{ref:"userPassword",staticStyle:{"font-size":".875rem"},attrs:{title:"密码",max:12,required:"","placeholder-align":"right","text-align":"right",placeholder:"请输入密码",type:"password","show-clear":!1},model:{value:t.loginForm.userPassword,callback:function(e){t.$set(t.loginForm,"userPassword",e)},expression:"loginForm.userPassword"}},[s("span",{attrs:{slot:"right"},slot:"right"},[s("icon",{directives:[{name:"show",rawName:"v-show",value:t.loginForm.userPassword.length>0,expression:"loginForm.userPassword.length > 0"}],attrs:{type:"clear"},nativeOn:{click:function(e){t.$refs.userPassword.reset()}}})],1)])],1),t._v(" "),s("div",{staticStyle:{padding:"10px"}},[s("x-button",{attrs:{type:"primary","show-loading":t.loading},nativeOn:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("登录")])],1),t._v(" "),s("div",{staticClass:"btn-register",on:{click:t.handleRegister}},[t._v("立即认证账号")]),t._v(" "),t._m(1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imgDiv"},[e("img",{attrs:{src:s("hqR9"),width:"100",height:"100"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"box-tip"},[e("div",{staticClass:"box-tip-title"},[this._v("温馨提示")]),this._v(" "),e("div",{staticClass:"box-tip-text"},[this._v("1.家庭代表认证后,可以为整个家庭成员进行录入")]),this._v(" "),e("div",{staticClass:"box-tip-text"},[this._v("2.登录账号默认为手机号")]),this._v(" "),e("div",{staticClass:"box-tip-text"},[this._v("3.密码由物业创建或账户认证时设置")])])}]};var h=s("C7Lr")(u,d,!1,function(t){s("wgME")},"data-v-45d3dcf0",null);e.default=h.exports},hqR9:function(t,e,s){t.exports=s.p+"static/img/login.979eda4.png"},wgME:function(t,e){}});