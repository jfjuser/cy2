webpackJsonp([34],{EN2Y:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("KiN3"),n=a("Q/W4"),s=a("oast"),o=a("SvN9"),c=a("myXI"),l=a("qTPs"),r=(i.a,n.a,s.a,{components:{XInput:i.a,Group:n.a,XButton:s.a},data:function(){return{departmentName:Object(o.c)().departmentName,form:{departmentId:Object(o.c)().departmentId,account:Object(o.h)().account,unicode:Object(o.h)().unicode,code:"",captcha:"111111",type:3},showCaptcha:!1,loadingBtn:!0,loadingSubmit:!0,timestamp:0}},mounted:function(){null!=localStorage.getItem("timestamp")&&(this.timestamp=localStorage.getItem("timestamp"),this.startTimeStamp())},methods:{startTimeStamp:function(){var t=this,e=setInterval(function(){t.timestamp>0?(t.timestamp--,localStorage.setItem("timestamp",t.timestamp)):(t.handleChangePhone(t.form.code),clearInterval(e))},1e3)},handleChangePhone:function(t){t&&(this.$refs.input.valid?this.timestamp<=0&&(this.loadingBtn=!1):this.loadingBtn=!0)},checkClick:function(){var t=this;Object(l.c)(c.j,this.form).then(function(e){t.showCaptcha=!0,t.loadingSubmit=!1,t.loadingBtn=!0,t.timestamp=10,t.startTimeStamp()}).catch(function(e){t.showCaptcha=!1,t.loadingSubmit=!0,t.$vux.toast.text(e,"bottom")})},submitClick:function(){var t=this;this.loadingSubmit||(this.loadingSubmit=!0,Object(l.d)(c.h,this.form).then(function(e){t.$vux.toast.text("绑定成功！","bottom"),t.$router.push({path:"/faceAI/userModel/"})}).catch(function(e){t.$vux.toast.text(e,"bottom"),t.loadingSubmit=!1}))}}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"theme"},[a("group",{attrs:{title:t.departmentName}},[a("div",{staticClass:"box"},[a("x-input",{ref:"input",staticClass:"box-input",attrs:{title:"手机号",required:"","placeholder-align":"right","text-align":"right",placeholder:"请输入手机号",type:"tel",mask:"99999999999",max:11,"is-type":"china-mobile","show-clear":!1},on:{"on-change":t.handleChangePhone},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),t._v(" "),a("x-button",{staticClass:"box-btn",attrs:{plain:"",disabled:t.loadingBtn},nativeOn:{click:function(e){return e.preventDefault(),t.checkClick(e)}}},[t._v("校验"+t._s(t.timestamp>0?"("+t.timestamp+")":""))])],1),t._v(" "),a("x-input",{directives:[{name:"show",rawName:"v-show",value:t.showCaptcha,expression:"showCaptcha"}],staticStyle:{"font-size":".875rem"},attrs:{title:"验证码",required:"","placeholder-align":"right","text-align":"right",placeholder:"请输入短信验证码",mask:"999999",max:6,"show-clear":!1},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}})],1),t._v(" "),a("div",{staticStyle:{padding:"10px"}},[a("x-button",{attrs:{type:"primary",disabled:t.loadingSubmit},nativeOn:{click:function(e){return e.preventDefault(),t.submitClick(e)}}},[t._v("绑定")])],1),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip"},[e("p",{staticClass:"tip-title"},[this._v("绑定了有什么用?")]),this._v(" "),e("p",{staticClass:"tip-text"},[this._v("1.接收进出推送,家人出行回家更放心")]),this._v(" "),e("p",{staticClass:"tip-text"})])}]};var h=a("C7Lr")(r,m,!1,function(t){a("T7A2")},"data-v-d5b920d2",null);e.default=h.exports},T7A2:function(t,e){}});