webpackJsonp([33],{IwSg:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("aA9S"),o=i.n(s),n=i("SvN9"),a=i("myXI"),r=i("qTPs"),c=i("Q/W4"),l=i("0+Q0"),u=i("C5VE"),d=i("KiN3"),h=i("oast"),w=i("bT6r"),m=(c.a,l.a,u.a,d.a,h.a,w.a,{components:{Group:c.a,Cell:l.a,Popup:u.a,XInput:d.a,XButton:h.a,Toast:w.a},data:function(){return{isWatch:!1,oldPwd:"",newPwd:"",newPwd1:"",wxInfo:{},isShow:!1,iform:{departmentId:Object(n.c)().departmentId,userName:"",phone:""},form:{departmentId:Object(n.c)().departmentId,account:Object(n.h)().account,unicode:Object(n.h)().unicode},addr:void 0,sex:""}},methods:{adaptPsw:function(){this.newPwd="",this.newPwd1="",this.oldPwd="",this.isShow=!0},checkOld:function(){/^(\w){6,12}$/.test(this.oldPwd)||this.$vux.toast.text("密码为6-12位数字，下划线或字母")},findPsw:function(){this.isWatch=!0},queConfirm:function(){var t=this;""===this.iform.userName||""===this.iform.phone?this.$vux.toast.text("请填写姓名与手机号","bottom"):Object(r.d)(a.u,this.iform).then(function(e){t.isWatch=!1,t.$vux.toast.text(e.message,"bottom"),t.$vux.confirm.show({title:"已初始化，密码如下",content:e.data})}).catch(function(e){t.$vux.toast.text(e,"bottom")})},checkNew:function(){var t=this,e=/^(\w){6,12}$/;if(e.test(this.newPwd)&&e.test(this.newPwd1)){if(this.newPwd!==this.newPwd1)this.$vux.toast.text("两次输入的新密码不一致，请重新输入","bottom");else if(e.test(this.newPwd)&&e.test(this.newPwd1)){var i=o()(this.form,{newPwd:this.newPwd,oldPwd:this.oldPwd});Object(r.e)(a._10,i).then(function(e){t.isShow=!1,t.$vux.toast.text(e.message,"bottom")}).catch(function(e){t.$vux.toast.text(e,"bottom")})}}else this.$vux.toast.text("密码为6-12位数字，下划线或字母","bottom")}},created:function(){this.wxInfo=Object(n.h)(),this.sex=1===this.wxInfo.sex?"男":0===this.wxInfo.sex?"女":"",this.addr=(this.wxInfo.country||"")+(this.wxInfo.country?"-":"")+(this.wxInfo.province||"")+(this.wxInfo.province?"-":"")+(this.wxInfo.city||"")}}),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("group",{attrs:{title:"基本信息"}},[i("cell",{staticClass:"text-left box-image",attrs:{title:"头像"}},[[i("img",{staticClass:"image",attrs:{src:t.wxInfo.headImgUrl}})]],2),t._v(" "),i("cell",{staticClass:"text-left",attrs:{title:"昵称",value:t.wxInfo.nickName}}),t._v(" "),i("cell",{staticClass:"text-left",attrs:{title:"性别",value:t.sex}}),t._v(" "),i("cell",{staticClass:"text-left",attrs:{title:"地区",value:t.addr}})],1),t._v(" "),i("group",{staticStyle:{"margin-top":"3rem"},attrs:{title:"账户信息"}},[i("cell",{staticClass:"text-left",attrs:{title:"账户密码",value:"修改","is-link":""},nativeOn:{click:function(e){return t.adaptPsw(e)}}}),t._v(" "),i("cell",{staticClass:"text-left",attrs:{title:"初始化密码",value:"设置","is-link":""},nativeOn:{click:function(e){return t.findPsw(e)}}})],1),t._v(" "),i("popup",{staticStyle:{height:"28vh"},attrs:{position:"top","hide-on-blur":!0,"show-mask":!0},model:{value:t.isWatch,callback:function(e){t.isWatch=e},expression:"isWatch"}},[i("group",[i("x-input",{attrs:{required:"","show-clear":!1,title:"业主姓名",placeholder:"请输入"},model:{value:t.iform.userName,callback:function(e){t.$set(t.iform,"userName",e)},expression:"iform.userName"}}),t._v(" "),i("x-input",{attrs:{required:"","show-clear":!1,min:11,max:11,type:"tel",title:"手机号",placeholder:"请输入"},model:{value:t.iform.phone,callback:function(e){t.$set(t.iform,"phone",e)},expression:"iform.phone"}}),t._v(" "),i("x-button",{staticStyle:{width:"70vw","margin-top":"1rem","margin-bottom":"1rem","line-height":"2.5rem"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.queConfirm(e)}}},[t._v("确定")])],1)],1),t._v(" "),i("popup",{staticStyle:{height:"35vh"},attrs:{position:"top","hide-on-blur":!0,"show-mask":!0},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[i("group",[i("x-input",{attrs:{required:"","show-clear":!1,title:"旧密码",type:"password",placeholder:"请输入"},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}}),t._v(" "),i("x-input",{attrs:{required:"","show-clear":!1,title:"新密码",type:"password",placeholder:"请输入"},nativeOn:{click:function(e){return t.checkOld(e)}},model:{value:t.newPwd,callback:function(e){t.newPwd=e},expression:"newPwd"}}),t._v(" "),i("x-input",{attrs:{required:"","show-clear":!1,title:"新密码",type:"password",placeholder:"请再输入一次确认"},model:{value:t.newPwd1,callback:function(e){t.newPwd1=e},expression:"newPwd1"}}),t._v(" "),i("x-button",{staticStyle:{width:"70vw","margin-top":"1rem","margin-bottom":"1rem","line-height":"2.5rem"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.checkNew(e)}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var p=i("C7Lr")(m,f,!1,function(t){i("OEiT")},"data-v-e18adc14",null);e.default=p.exports},OEiT:function(t,e){}});