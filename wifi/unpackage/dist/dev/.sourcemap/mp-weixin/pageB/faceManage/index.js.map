{"version":3,"sources":["webpack:///D:/webpro/wifi/pageB/addFace/index.vue?9c56","uni-app:///main.js","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?35f9","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?65d5","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?9701","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?1f8e","uni-app:///pageB/faceManage/index.vue","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?0bac","webpack:///D:/webpro/wifi/pageB/faceManage/index.vue?96af","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?bdda","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?0acd","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?d2d8","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?e54f","uni-app:///pageB/faceDetail/index.vue","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?db36","webpack:///D:/webpro/wifi/pageB/faceDetail/index.vue?e49e","webpack:///D:/webpro/wifi/pageB/addFace/index.vue?f24c","webpack:///D:/webpro/wifi/pageB/addFace/index.vue?6f4b","webpack:///D:/webpro/wifi/pageB/addFace/index.vue?bb31","webpack:///D:/webpro/wifi/pageB/addFace/index.vue?696e","uni-app:///pageB/addFace/index.vue","webpack:///D:/webpro/wifi/pageB/addFace/index.vue?3285"],"names":["createPage","Page"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,SACA,WADA,EAEA,OAFA,EAGA,QAHA,EADA,EAMA,gBANA,EAMA;AACA,uBAPA,EAQA,YARA,EAQA;AACA,iBATA,EASA;AACA,mBAVA,EAWA,gBAXA,EAWA;AACA,qGAZA,EAaA,QACA,EACA,QADA,EAEA,aAFA,EADA,EAKA,EACA,QADA,EAEA,YAFA,EALA,CAbA,EAuBA,WAvBA,EAuBA;AACA,gBAxBA,EAyBA,WAzBA,CA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtCA,MAwCA,CA1CA,EA2CA,qBA3CA,EA4CA,MA5CA,oBA4CA,CACA,kDACA,CA9CA,EA+CA,OA/CA,qBA+CA,kBACA,6BACA,gEACA,oBACA,aACA,yDACA,oBACA,yCACA,CALA,MAKA,CACA,4BACA,CACA,CATA,EASA,KATA,CASA,gBACA;AACA,KAXA,EAYA,+DACA,sCACA,mDACA,sCACA,8BACA,yDACA,wBACA,CACA,CANA,EAOA,CATA,EAUA,CAvEA,EAwEA,WACA,WADA,uBACA,CADA,EACA,CACA,8BACA,CAHA,EAIA,gDACA,gCACA,CANA,EAOA,SAPA,uBAOA,CACA,gBACA,kBACA,QADA,EACA;AACA,gCAFA,EAEA;AACA,uCAHA,EAGA;AACA,wCACA,0HACA;AACA,6BACA,qDADA,EAEA,YAFA,EAGA,8BAHA,EAIA,OAJA,mBAIA,GAJA,EAIA,CACA,gCACA,kBACA,sBACA,kCACA,CAFA,MAEA,CACA,iCACA,uBACA,yBACA,CACA,CAdA,EAeA,IAfA,gBAeA,GAfA,EAeA,CACA,4BACA,CAjBA,IAmBA,CArBA,MAqBA,CACA,gCACA,CACA,CA7BA,IA+BA,CAxCA,EAyCA,SAzCA,uBAyCA,CACA,gBACA,gBACA,aADA;AAEA,gCAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KArDA;AAsDA,WAtDA,qBAsDA;AACA;AAC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BA,MAoBA;AACA;AACA;AACA,SA5BA;;AA8BA,KA1CA;AA2CA,aA3CA,uBA2CA;AACA;AACA;AACA,qBADA;AAEA,gCAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KAvDA;AAwDA,WAxDA,qBAwDA;AACA;AACA;AACA,0BADA;AAEA;AACA,2CADA;AAEA;AACA;AACA,WAJA;AAKA;AACA;AACA,WAPA,EAFA;;;AAYA,KAtEA;AAuEA,UAvEA,oBAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,2BADA;AAEA,6BAFA;AAGA,mBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,0BADA,EACA;AACA,8BAFA,EAEA;AACA,2BAHA,EAGA;AACA,iCAJA,EAIA;AACA,wCALA,EAKA;AACA,2BANA,CAMA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA,eAdA,MAcA;AACA;AACA;AACA,aArBA;AAsBA,gBAtBA,gBAsBA,GAtBA,EAsBA;AACA;AACA,aAxBA;;AA0BA;AACA,OAjCA,EAiCA,KAjCA,CAiCA;AACA;AACA;AACA,OApCA;AAqCA;AACA,KA/HA;AAgIA,cAhIA,sBAgIA,KAhIA,EAgIA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,KA7IA,EAlDA,E;;;;;;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAshC,CAAgB,qgCAAG,EAAC,C","file":"pageB/faceManage/index.js","sourcesContent":["// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606877766801\n      var cssReload = require(\"D:/software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pageB/faceManage/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=5fb31c2f&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageB/faceManage/index.vue\"\nexport default component.exports","export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=5fb31c2f&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showPage = 3\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"facemanage\" :style=\"'min-height:' + minHeight + 'px;'\">\r\n\t\t<view class=\"manage\" v-if=\"showPage==0\">\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<view class=\"s-key\">\r\n\t\t\t\t\t<van-search\r\n\t\t\t\t\t    v-model=\"getkey.userName\"\r\n\t\t\t\t\t\tshape=\"round\"\r\n\t\t\t\t\t\tclass=\"input\"\r\n\t\t\t\t\t    placeholder=\"请输入搜索关键词\"\r\n\t\t\t\t\t    @search=\"onSearch\"\r\n\t\t\t\t\t\t@blur=\"onInput\"\r\n\t\t\t\t\t\t@clear=\"onClear\"\r\n\t\t\t\t\t  />\r\n\t\t\t\t\t  <text @click=\"onSearch\" class=\"search\">搜索</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"face_list\">\r\n\t\t\t\t\t<view v-if=\"total==0\"><van-empty image=\"search\" description=\"亲~没有查询到人脸记录哦\" /></view>\r\n\t\t\t\t\t<!-- @scrolltoupper=\"upper\" 上拉刷新 @scrolltolower=\"lower\" 下拉触底 @scroll=\"scroll\" 滚动 -->\r\n\t\t\t\t\t<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\"  class=\"scroll-Y list\" lower-threshold=\"100\" >\r\n\t\t\t\t\t   <view class=\"cell\" v-for=\"(item, index) in dataList\" :key=\"item.id\">\r\n\t\t\t\t\t\t <view class=\"faceInfo\">\r\n\t\t\t\t\t\t  <text class=\"margin\">部门: {{item.leader}}</text>\r\n\t\t\t\t\t\t\t<text class=\"margin\">用户名: {{item.userName}}</text>\r\n\t\t\t\t\t\t </view>\r\n\t\t\t\t\t\t <view class=\"trigger\">\r\n\t\t\t\t\t\t  <button  size=\"mini\" type=\"default\" :data-id=\"item\" @click=\"detail\">详情</button>\r\n\t\t\t\t\t\t\t <button  size=\"mini\" type=\"warn\" :data-id=\"item.id\" @click=\"udelete\">删除</button>\r\n\t\t\t\t\t\t </view>\r\n\t\t\t\t\t   </view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t<text  style=\"margin: 30rpx 0;\" v-if=\"isLoading&&Loading=='没有更多'&&dataList.length>0\">{{Loading}}</text>\r\n\t\t\t\t\t<van-loading size=\"40rpx\" type=\"spinner\" style=\"margin: 30rpx 0;\" v-if=\"(isLoading&&dataList.length>0&&Loading!='没有更多')||total==null\">{{Loading}}</van-loading>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"add\">\r\n\t\t\t\t\t<van-button\r\n\t\t\t\t\t  round\r\n\t\t\t\t\t  block\r\n\t\t\t\t\t  type=\"info\"\r\n\t\t\t\t\t  native-type=\"submit\"\r\n\t\t\t\t\t  @click=\"showPage=3\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t  添加录制人脸\r\n\t\t\t\t</van-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"f_detail\" v-else-if=\"showPage==1\">\r\n\t\t\t<face-detail @change=\"prev\" :infoDetail=\"infoDetail\"></face-detail>\r\n\t\t</view>\r\n\t\t<view class=\"f_add\" v-else>\r\n\t\t\t<add-face @change=\"prev\"></add-face>\r\n\t\t</view>\r\n\t\t<van-toast id=\"van-toast\"/>\r\n\t</view>\n</template>\n\n<script>\r\n\timport faceDetail from \"@/pageB/faceDetail/index.vue\"\r\n\timport addFace from \"@/pageB/addFace/index.vue\"\r\n\timport Toast from '@/static/vant/toast/toast'\r\n\timport system from '@/utils/getSystem.js'\r\n\timport { faceManage, faceDlete } from \"@/utils/request.js\"\r\n\t// '/pb/at/work/v1/manager/WorkForCyCarUser'\r\n\texport default {\r\n\t\tcomponents: { faceDetail, addFace },\r\n\t\tdata () {\r\n\t\t\treturn {\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tshowPage: 0,\r\n\t\t\t\tinfoDetail: {},\r\n\t\t\t\tLoading: '加载中...',\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\ttotal: null,\r\n\t\t\t\tminHeight: '',\r\n\t\t\t\tdeletekey: {departmentId: getApp().globalData.logInfo.departmentId, ids: []},\r\n\t\t\t\tgetkey: {userName: \"\", offset: 1, limit: 15, departmentId: getApp().globalData.logInfo.departmentId},\r\n\t\t\t\tdataList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(obj) {\r\n\t\t\tif (obj&&obj.showPage) {\r\n\t\t\t\tthis.showPage = obj.showPage\r\n\t\t\t}\r\n\t\t\tthis.minHeight = system().height\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getData ()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tprev (val) {\r\n\t\t\t\tthis.dataList = []\r\n\t\t\t\tthis.showPage = val\r\n\t\t\t\tthis.getkey.userName = ''\r\n\t\t\t\tthis.getkey.offset = 1\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\tdetail (e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.infoDetail = e.target.dataset.id\r\n\t\t\t\tthis.showPage=1\r\n\t\t\t\t// this.dataList.forEach((item, index) => {\r\n\t\t\t\t// \tif (item.id / 1 === e.target.dataset.id /1) {\r\n\t\t\t\t// \t\tthis.infoDetail = item\r\n\t\t\t\t// \t\tthis.showPage=1\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t},\r\n\t\t\tonSearch (e) {\r\n\t\t\t\tthis.dataList = []\r\n\t\t\t\tthis.total = null\r\n\t\t\t\tif (!e.detail.x) {\r\n\t\t\t\t\tthis.getkey.userName = e.detail\r\n\t\t\t\t}\r\n\t\t\t\tthis.getkey.offset = 1\r\n\t\t\t\tthis.getData()\r\n\t\t\t},\r\n\t\t\tudelete (e) {\r\n\t\t\t\t// console.log()\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.deletekey.ids[0] = e.target.dataset.id\r\n\t\t\t\tfaceDlete(that.deletekey).then((res) => {\r\n\t\t\t\t\tif (res.data.code !== 1) {\r\n\t\t\t\t\t\tToast.fail(res.data.message)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tToast.success(res.data.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.getkey.offset = 1\r\n\t\t\t\t\tthis.getData()\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tToast.fail(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonInput (e) {\r\n\t\t\t\tthis.getkey.userName = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetData () {\r\n\t\t\t\tfaceManage('?offset='+this.getkey.offset+'&limit='+this.getkey.limit, this.getkey).then((res) => {\r\n\t\t\t\t\tthis.isLoading = false\r\n\t\t\t\t\tthis.total = res.data.data.total\r\n\t\t\t\t\tif (this.dataList.length>0) {\r\n\t\t\t\t\t\tthis.dataList = this.dataList.concat(res.data.data.rows)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.dataList = res.data.data.rows\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tthis.isLoading = false\r\n\t\t\t\t\tthis.total = 0\r\n\t\t\t\t\tthis.dataList = []\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonCancel (e) {\r\n\t\t\t\tconsole.log(this.keyword)\r\n\t\t\t\tconsole.log(2222, e)\r\n\t\t\t},\r\n\t\t\tonClear () {\r\n\t\t\t\tthis.getkey.userName = ''\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReachBottom () {\r\n\t\t\tthis.isLoading = true\r\n\t\t\tif (this.dataList.length<this.total) {\r\n\t\t\t\tthis.getkey.offset = this.getkey.offset / 1 + 1\r\n\t\t\t\tthis.getData()\r\n\t\t\t} else {\r\n\t\t\t\tthis.Loading = '没有更多'\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.s-key{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 0 2.5%;\r\n\t\tbox-sizing: border-box;\r\n\t\tfont-size: 28rpx;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tline-height: 40rpx;\r\n\t\tborder-bottom: 2rpx solid #ebedf0;\r\n\t}\r\n\t.content .input{\r\n\t\tflex: 1;\r\n\t\tline-height: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tbackground: #eee;\r\n\t}\r\n\t.content .input input{\r\n\t\tfont-size: 28rpx;\r\n\t\theight: 40rpx;\r\n\t\tline-height: 40rpx !important;\r\n\t}\r\n\t.content .input .van-search__content.van-search__content.van-search__content--round.van-search__content--round{\r\n\t\tbackground: #eee;\r\n\t}\r\n\t.van-cell__left-icon-wrap.van-cell__left-icon-wrap{\r\n\t\twidth: 32rpx !important;\r\n\t\theight: 48rpx !important;\r\n\t}\r\n\t.field-index--van-field.van-cell.van-cell.van-cell--borderless.van-cell--borderless{\r\n\t\talign-items: center;\r\n\t}\r\n\t.van-cell__left-icon-wrap.van-cell__left-icon-wrap .van-icon:before{\r\n\t\tfont-size: 35rpx;\r\n\t\tmargin-top: 6rpx;\r\n\t}\r\n\t.van-icon-clear:before{\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t.search{\r\n\t   line-height: 88rpx;\r\n\t   font-size: 28rpx;\r\n\t   padding: 0 20rpx;\r\n\t}\r\n\t.face_list{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tpadding-bottom: 152rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.face_list .cell,.face_list .list{\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 28rpx;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t.face_list .cell{\r\n\t\tpadding: 40rpx;\r\n\t\tjustify-content: space-between;\r\n\t\tborder-bottom: 2rpx solid #f0f0f0;\r\n\t}\r\n\t.faceInfo{\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: center;\r\n\t\talign-items: flex-start;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.trigger{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t.trigger button{\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin: 0 10rpx;\r\n\t}\r\n\t.trigger button:nth-child(1) {\r\n\t\tcolor: #333;\r\n\t}\r\n\t.add{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbox-shadow: 10rpx 0 20rpx 0 rgba(0,0,0,.2);\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 32rpx 32rpx 32rpx;\r\n\t\tbackground: #fff;\r\n\t\tposition: fixed;\r\n\t\tleft: 0;\r\n\t\tbottom: 0;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.add button.van-button--normal .van-button__text.van-button__text{\r\n\t\tfont-size: 28rpx !important;\r\n\t}\r\n\t.add button.van-button--normal{\r\n\t\theight: 88rpx;\r\n\t\t    width: 576px;\r\n\t}\r\n\t.uni-load-more__text.uni-load-more__text{\r\n\t\tfont-size: 28rpx !important;\r\n\t}\r\n\t.van-empty__image{\r\n\t\twidth: 320rpx !important;\r\n\t\theight: 320rpx !important;\r\n\t}\r\n\t.van-empty__description{\r\n\t\tfont-size: 32rpx !important;\r\n\t}\n</style>\n","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606877766812\n      var cssReload = require(\"D:/software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=45d6e01b&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageB/faceDetail/index.vue\"\nexport default component.exports","export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=45d6e01b&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"addface\" :style=\"'min-height:' + minHeight + 'px;height:' + (xiaFaData?minHeight + 'px':'auto')+ ';overflow-y:'+(xiaFaData?'hidden':'')\">\r\n\t     <view class=\"caozuo\">\r\n\t     \t<button  size=\"mini\" type=\"default\" class=\"close\" @click=\"close\">关闭</button>\r\n\t\t\t<button  size=\"mini\" type=\"default\" class=\"isedit\" @click=\"isedit\">{{!edit?'重新编辑':'取消编辑'}}</button>\r\n\t     </view>\r\n\t\t<view class=\"userName cell \" style=\"height: 180rpx;\">\r\n\t\t\t<text class=\"title\">上传人脸图片: </text>\r\n\t\t\t<view class=\"rule\" >\r\n\t\t\t\t<image v-if=\"!faceImg.length>0\" src=\"@/static/timg.jpg\" mode=\"widthFix\" style=\"width: 120rpx;height: 120rpx;\" @click=\"changeImg\"></image>\r\n\t\t\t\t<view class=\"faceimg\" v-else style=\"width: 120rpx;position: relative;\">\r\n\t\t\t\t\t<view   class=\"delete\" @click=\"deleteImg\" v-if=\"edit\">\r\n\t\t\t\t\t\t<text class=\"cha\">×</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"faceImg[0]\"  style=\"width: 120rpx;height:130rpx\" @click=\"prevImg\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"userName cell rules\">\r\n\t\t\t<text class=\"title\" :class=\"!edit?'noedit':''\">姓名: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<!-- {{!edit}} -->\r\n\t\t\t\t<input type=\"text\" :class=\"!edit?'noedit':''\" :placeholder-class=\"!edit?'noedit':''\" v-model=\"infoDetail.userName\" :disabled=\"!edit\" class=\"input\" placeholder=\"请输入姓名\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell rules\">\r\n\t\t\t<text class=\"title\" :class=\"!edit?'noedit':''\">手机号码: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" maxlength=\"11\" v-model=\"infoDetail.phone\" :placeholder-class=\"!edit?'noedit':''\" :class=\"!edit?'noedit':''\" :disabled=\"!edit\" class=\"input\" placeholder=\"请输入手机号码\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell\">\r\n\t\t\t<text class=\"title noedit\" >用户ID: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" maxlength=\"11\" v-model=\"infoDetail.id\" placeholder-class=\"noedit\"  disabled=\"true\" class=\"input noedit\" placeholder=\"请输入用户ID\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell\">\r\n\t\t\t<text class=\"title noedit\" >下发数据: </text>\r\n\t\t\t<view class=\"rule submi\">\r\n\t\t\t\t<van-button\r\n\t\t\t\t  block\r\n\t\t\t\t  type=\"info\"\r\n\t\t\t\t  color=\"#07c160\"\r\n\t\t\t\t  native-type=\"submit\"\r\n\t\t\t\t  @click=\"getData\"\r\n\t\t\t\t>\r\n\t\t\t\t  点击查询\r\n\t\t\t\t</van-button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell\">\r\n\t\t\t<text class=\"title noedit\" >部门: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<picker @change=\"bindPickerChange\"  :value=\"pickIndex\" :range=\"array.leaders\"   class=\"input noedit\" disabled=\"true\">\r\n\t\t\t\t  <view class=\"uni-input\">{{array.leaders[pickIndex]}}</view>\r\n\t\t\t\t </picker>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell \">\r\n\t\t\t<text class=\"title\" :class=\"!edit?'noedit':''\">韦根号: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" v-model=\"infoDetail.wiegandCard\" :placeholder-class=\"!edit?'noedit':''\" :class=\"!edit?'noedit':''\" :disabled=\"!edit\" class=\"input\" placeholder=\"请输入韦根号\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"submit\">\r\n\t\t\t<van-button\r\n\t\t\t  block\r\n\t\t\t  :disabled=\"!edit\"\r\n\t\t\t  :loading=\"isLoading\"\r\n\t\t\t  loading-text=\"正在提交...\"\r\n\t\t\t  type=\"info\"\r\n\t\t\t  color=\"#07c160\"\r\n\t\t\t  native-type=\"submit\"\r\n\t\t\t  @click=\"submit\"\r\n\t\t\t>\r\n\t\t\t  重新提交\r\n\t\t\t</van-button>\r\n\t\t</view>\r\n\t\t<van-toast id=\"van-toast\"/>\r\n\t\t<view class=\"popup\"  v-if=\"xiaFaData\" @click=\"xiaFaHide\">\r\n\t\t\t<view class=\"pop-content\" @click.stop=\"\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t下发数据信息\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height: 300rpx;\">\r\n\t\t\t\t\t<view>{{infoDetail.aiPower}}</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport Toast from '@/static/vant/toast/toast'\r\n\timport system from '@/utils/getSystem.js'\r\n\timport { checkphoto, facePut, getPhoto, getCompany } from \"@/utils/request.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tarray: {\r\n\t\t\t\t\tleaders: [],\r\n\t\t\t\t\tids: [],\r\n\t\t\t\t\trows: []\r\n\t\t\t\t},\r\n\t\t\t\txiaFaData: false, // 下发数据显示\r\n\t\t\t\tifDisabled: false,\r\n\t\t\t\tpickIndex: 0, // 部门选择下标\r\n\t\t\t\tedit: false, // 是否编辑\r\n\t\t\t\tminHeight: '',\r\n\t\t\t\tisLoading: false, // 加载\r\n\t\t\t\tcompanyKey: { offset: 1, limit: 10000, departmentId: getApp().globalData.logInfo.departmentId},\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\tname: '不跳过验证'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\t\tname: '跳过验证'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tfaceImg: [], // 人脸照片\r\n\t\t\t\tcurrent: 1,\r\n\t\t\t\timgBack: {}\r\n\t\t\t\t// , // 是否跳过验证\r\n\t\t\t\t// formData: {\r\n\t\t\t\t//   addr: '', // 用户地址\r\n\t\t\t\t//   userName: '', // 用户名\r\n\t\t\t\t//   phone: '', // 手机号\r\n\t\t\t\t//   photoName: '', // 照片名\r\n\t\t\t\t//   photo: '', // 照片密匙\r\n\t\t\t\t//   wiegandCard: '', // 韦根号\r\n\t\t\t\t//   photoAbb: '', //\r\n\t\t\t\t//   feature: '', // 图片数据\r\n\t\t\t\t//   dutyCompanyId: '', // 部门选择\r\n\t\t\t\t//   type: '0' // 用户类型 默认为 0 （0： 用户；1：访客）\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: ['infoDetail'],\r\n\t\tonLoad() {\r\n\t\t\tthis.minHeight = system().height\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tconsole.log(this.infoDetail)\r\n\t\t\tgetPhoto(this.infoDetail.id).then((res) => {\r\n\t\t\t\tif (res.data.data) {\r\n\t\t\t\t\tlet img = []\r\n\t\t\t\t\timg.push('data:image/jpeg;base64,'+res.data.data.file)\r\n\t\t\t\t\tthis.faceImg = img\r\n\t\t\t\t\tthat.imgBack.photo = res.data.data.phone\r\n\t\t\t\t} else {\r\n\t\t\t\t\tToast.fail('暂无图片')\r\n\t\t\t\t}\r\n\t\t\t}).catch((err) => {\r\n\t\t\t\t// Toast.fail('获取图片失败')\r\n\t\t\t})\r\n\t\t\tgetCompany(this.companyKey).then((res) => {\r\n\t\t\t   this.array.rows = res.data.data.rows\r\n\t\t\t\tres.data.data.rows.forEach((item, index) => {\r\n\t\t\t\t\tthis.array.leaders.push(item.leader)\r\n\t\t\t\t\tthis.array.ids.push(item.id)\r\n\t\t\t\t\tif (item.id / 1 === this.infoDetail.dutyCompanyId / 1) {\r\n\t\t\t\t\t\tthis.pickIndex = index\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tradioChange (e) {\r\n\t\t\t  this.current = e.detail.value\r\n\t\t\t},\r\n\t\t\tbindPickerChange: function(e) {\r\n\t\t\t  this.pickIndex = e.target.value\r\n\t\t\t},\r\n\t\t\tchangeImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t    count: 1, //默认9\r\n\t\t\t\t    sizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t    sourceType: ['album', 'camera'], //从相册选择\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\tif (res.tempFilePaths[0].toLowerCase().indexOf('.jpg') >= 0 || res.tempFilePaths[0].toLowerCase().indexOf('.jpeg') >= 0) {\r\n\t\t\t\t\t\t\t// console.log(res.tempFilePaths[0])\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: getApp().globalData.allUrl + checkphoto,\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePaths[0],\r\n\t\t\t\t\t\t\t\tsuccess (url) {\r\n\t\t\t\t\t\t\t\t\tlet data = JSON.parse(url.data)\r\n\t\t\t\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t\t\t\tif (data.code!==1) {\r\n\t\t\t\t\t\t\t\t\t\tToast.fail(data.message)\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthat.faceImg = res.tempFilePaths\r\n\t\t\t\t\t\t\t\t\t\tthat.ifDisabled = true\r\n\t\t\t\t\t\t\t\t\t\tthat.imgBack = data.data\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t  \tToast.fail('上传失败')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tToast.fail('请选择JPG图片')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '删除图片',\r\n\t\t\t\t\tcontent: '是否删除已经检测通过的照片',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.faceImg = []\r\n\t\t\t\t\t\t\tthat.ifDisabled = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tprevImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\turls: that.faceImg,\r\n\t\t\t\tlongPressActions: {\r\n\t\t\t\t\titemList: ['发送给朋友', '保存图片', '收藏'],\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tconsole.log('选中了第' + (data.tapIndex + 1) + '个按钮,第' + (data.index + 1) + '张图片');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log(err.errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetData () {\r\n\t\t\t\tthis.xiaFaData = true\r\n\t\t\t},\r\n\t\t\txiaFaHide () {\r\n\t\t\t\tthis.xiaFaData = false\r\n\t\t\t},\r\n\t\t\tclose () {\r\n\t\t\t\tthis.$emit('change', 0)\r\n\t\t\t},\r\n\t\t\tisedit () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (!this.edit) {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '人脸信息确认',\r\n\t\t\t\t\t\tcontent: '是否提交新人脸信息',\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tthat.edit = !that.edit\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.edit = !this.edit\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmit () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (this.infoDetail.photo) {\r\n\t\t\t\t\tdelete this.infoDetail.photo\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.infoDetail)\r\n\t\t\t\tif (!this.infoDetail.userName) {\r\n\t\t\t\t\tToast.fail('请输入姓名')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.infoDetail.phone) {\r\n\t\t\t\t\tToast.fail('请输入手机号码')\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this.phoneRules(this.infoDetail.phone)) {\r\n\t\t\t\t\t\tToast.fail('请输入正确的手机号码')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.isLoading = true\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '人脸信息确认',\r\n\t\t\t\t\tcontent: '是否提交新人脸信息',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tlet form = Object.assign({}, that.imgBack, that.infoDetail)\r\n\t\t\t\t\t\t\tfacePut(form).then((res) => {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t\t\t\t\tif (res.data.code!==1) {\r\n\t\t\t\t\t\t\t\t\tToast.fail(res.data.message)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\t\t\t\tToast.success(res.data.message)\r\n\t\t\t\t\t\t\t\t\tthat.isedit()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t\t\t\tToast.fail(err)\r\n\t\t\t\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t  \tToast.fail('提交失败')\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tphoneRules (phone) {\r\n\t\t\t  let regExp = /^[1]([3-9])[0-9]{9}$/\r\n\t\t\t  // console.log(regExp.test(phone))\r\n\t\t\t  if (typeof Number(phone) !== 'number') {\r\n\t\t\t    return false\r\n\t\t\t  } else if (!regExp.test(phone)) {\r\n\t\t\t    return false\r\n\t\t\t  } else if (phone.length > 11) {\r\n\t\t\t    return false\r\n\t\t\t  } else if (phone.length < 11) {\r\n\t\t\t    return false\r\n\t\t\t  }\r\n\t\t\t  return true\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style >\r\n\t.addface{\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #646566;\r\n\t}\r\n\t.addface .title{\r\n\t\twidth: 180rpx;\r\n\t\tline-height: 68rpx;\r\n\t\ttext-align: right;\r\n\t\tmargin-right: 20rpx;\r\n\t\tpadding-right: 30rpx;\r\n\t}\r\n\t.addface .cell{\r\n\t\twidth: 100%;\r\n\t\theight: 108rpx;\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 2rpx solid #ebedf0;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t.addface .cell .row{\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t.uni-list-cell.uni-list-cell-pd{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t.rule{\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\t.rule .input{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 10rpx;\r\n\t}\r\n\t.rule .input .uni-input{\r\n\t\t    width: 300rpx;\r\n\t\t    height: 68rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-items: center;\r\n\t}\r\n\t.rules:before {\n    color: #ee0a24;\r\n\tposition: absolute;\n    font-size: 32rpx;\n    content: \"*\";\n}\r\n.submit{\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 32rpx 32rpx 32rpx;\r\n\tbox-shadow: 10rpx 0 20rpx 0 rgba(0,0,0,.2);\r\n\tbox-sizing: border-box;\r\n\tbackground: #fff;\r\n\tposition: fixed;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n}\r\n.submit button.van-button--normal .van-button__text.van-button__text{\r\n\tfont-size: 28rpx !important;\r\n}\r\n.submit button.van-button--normal{\r\n\theight: 88rpx;\r\n\twidth: 576px;\r\n}\r\n.submi button.van-button--normal .van-button__text.van-button__text{\r\n\tfont-size: 28rpx !important;\r\n}\r\n.submi button.van-button--normal{\r\n\theight: 55rpx;\r\n\twidth: 382px;\r\n}\r\n.delete{\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tz-index: 999;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 40rpx;\r\n\theight: 40rpx;\r\n\tcolor: #fff;\r\n\tfont-size: 28rpx;\r\n\tbackground-color: rgba(0,0,0,.7);\r\n\tborder-radius: 0 0 0 38rpx;\r\n}\r\n.delete .cha{\r\n\tline-height: 40rpx;\r\n\tposition: absolute;\r\n\tright: 0;\r\n}\r\n.noedit{\r\n\tcolor: #c8c9cc;\r\n}\r\n.pop-content{\r\n\twidth: 90%;\r\n\tpadding: 20rpx;\r\n\tbox-sizing: border-box;\r\n\tmin-height: 400rpx;\r\n\tbackground: #fff;\r\n\tborder-radius: 20rpx;\r\n}\r\n.pop-content .title{\r\n\tfont-size: 32rpx;\r\n\theight: 80rpx;\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.caozuo .close{\r\n\tcolor: #1989fa;\r\n\tborder-color: #1989fa;\r\n}\r\n.caozuo .close:after{\r\n\tborder-color: #1989fa;\r\n}\r\n.caozuo .isedit{\r\n\tcolor: #ff976a;\r\n\tborder-color: #ff976a;\r\n}\r\n.caozuo .isedit:after{\r\n\tborder-color: #ff976a;\r\n}\r\n.caozuo{\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n\tpadding: 40rpx 40rpx 20rpx;\r\n\tbox-sizing: border-box;\r\n}\r\n.caozuo button{\r\n\tmargin: 0;\r\n}\n</style>\n","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606877766813\n      var cssReload = require(\"D:/software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=54990ff2&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pageB/addFace/index.vue\"\nexport default component.exports","export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=54990ff2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"addface\" :style=\"'min-height:' + minHeight + 'px;'\">\r\n\t\t<view class=\"userName cell \" style=\"height: 180rpx;\">\r\n\t\t\t<text class=\"title\">上传人脸图片: </text>\r\n\t\t\t<view class=\"rule\" >\r\n\t\t\t\t<image v-if=\"!faceImg.length>0\" src=\"@/static/timg.jpg\" mode=\"widthFix\" style=\"width: 120rpx;height: 120rpx;\" @click=\"changeImg\"></image>\r\n\t\t\t\t<view class=\"faceimg\" v-else style=\"width: 120rpx;position: relative;\">\r\n\t\t\t\t\t<view   class=\"delete\" @click=\"deleteImg\">\r\n\t\t\t\t\t\t<text class=\"cha\">×</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image :src=\"faceImg[0]\"  style=\"width: 120rpx;height:130rpx\" @click=\"prevImg\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"isskip cell\">\r\n\t\t\t<text class=\"title\">单选框: </text>\r\n\t\t\t<radio-group @change=\"radioChange\" class=\"row\" >\r\n\t\t\t    <label class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"index\">\r\n\t\t\t        <view>\r\n\t\t\t         <radio :value=\"item.value\" :disabled=\"ifDisabled\"  style=\"transform:scale(0.7)\" color=\"#1296DB\" :checked=\"item.value / 1 === current / 1\"  />\r\n\t\t\t        </view>\r\n\t\t\t        <view>{{item.name}}</view>\r\n\t\t\t   </label>\r\n\t\t\t</radio-group>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"userName cell rules\">\r\n\t\t\t<text class=\"title\">姓名: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" v-model=\"formData.userName\" class=\"input\" placeholder=\"请输入姓名\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell rules\">\r\n\t\t\t<text class=\"title\">手机号码: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" maxlength=\"11\" v-model=\"formData.phone\" class=\"input\" placeholder=\"请输入手机号码\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell rules\">\r\n\t\t\t<text class=\"title\">部门: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<picker @change=\"bindPickerChange\"  :value=\"pickIndex\" :range=\"array.leaders\" class=\"input\" >\r\n\t\t\t\t   <view class=\"uni-input\">{{array.leaders[pickIndex]}}</view>\r\n\t\t\t\t </picker>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"userName cell \">\r\n\t\t\t<text class=\"title\">韦根号: </text>\r\n\t\t\t<view class=\"rule\">\r\n\t\t\t\t<input type=\"text\" v-model=\"formData.wiegandCard\" class=\"input\" placeholder=\"请输入韦根号\"  />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"submit1\">\r\n\t\t\t<van-button\r\n\t\t\t  round\r\n\t\t\t  block\r\n\t\t\t  :loading=\"isLoading\"\r\n\t\t\t  loading-text=\"正在提交...\"\r\n\t\t\t  type=\"info\"\r\n\t\t\t  native-type=\"submit\"\r\n\t\t\t  @click=\"submit\"\r\n\t\t\t  style=\"font-size: 28rpx;width:576rpx;height: 88rpx;\"\r\n\t\t\t>\r\n\t\t\t  提交\r\n\t\t\t</van-button>\r\n\t\t</view>\r\n\t\t<van-toast id=\"van-toast\"/>\r\n\t</view>\n</template>\n\n<script>\r\n\timport Toast from '@/static/vant/toast/toast'\r\n\timport system from '@/utils/getSystem.js'\r\n\timport { checkphoto, noCheckPhoto, faceRegister, getCompany } from \"@/utils/request.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tarray: {\r\n\t\t\t\t\tleaders: [],\r\n\t\t\t\t\tids: [],\r\n\t\t\t\t\trows: []\r\n\t\t\t\t},\r\n\t\t\t\tifDisabled: false,\r\n\t\t\t\tpickIndex: 0,\r\n\t\t\t\tminHeight: '',\r\n\t\t\t\tisLoading: false, // 加载\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 1,\r\n\t\t\t\t\t\tname: '不跳过验证'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvalue: 2,\r\n\t\t\t\t\t\tname: '跳过验证'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tfaceImg: [], // 人脸照片\r\n\t\t\t\tcurrent: 1, // 是否跳过验证\r\n\t\t\t\tcompanyKey: { offset: 1, limit: 10000, departmentId: getApp().globalData.logInfo.departmentId},\r\n\t\t\t\tformData: {\r\n\t\t\t\t  addr: '', // 用户地址\r\n\t\t\t\t  userName: '', // 用户名\r\n\t\t\t\t  departmentId: getApp().globalData.logInfo.departmentId,\r\n\t\t\t\t  phone: '', // 手机号\r\n\t\t\t\t  wiegandCard: '', // 韦根号\r\n\t\t\t\t  dutyCompanyId: '', // 部门选择\r\n\t\t\t\t  type: '0' // 用户类型 默认为 0 （0： 用户；1：访客）\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.minHeight = system().height\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet that =this\r\n\t\t\tgetCompany(this.companyKey).then((res) => {\r\n\t\t\t\tthis.array.rows = res.data.data.rows\r\n\t\t\t\tthat.formData.dutyCompanyId = res.data.data.rows[0]['id']\r\n\t\t\t\tres.data.data.rows.forEach((item, index) => {\r\n\t\t\t\t\tthat.array.leaders.push(item.leader)\r\n\t\t\t\t\tthat.array.ids.push(item.id)\r\n\t\t\t\t}) \r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tradioChange (e) {\r\n\t\t\t  this.current = e.detail.value\r\n\t\t\t},\r\n\t\t\tbindPickerChange: function(e) {\r\n\t\t\t  this.pickIndex = e.target.value\r\n\t\t\t  this.formData.dutyCompanyId = this.array.ids[this.pickIndex]\r\n\t\t\t},\r\n\t\t\tchangeImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tconsole.log(this.current)\r\n\t\t\t\tlet check = this.current==1?checkphoto:noCheckPhoto\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t    count: 1, //默认9\r\n\t\t\t\t    sizeType: ['compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t    sourceType: ['album', 'camera'], //从相册选择\r\n\t\t\t\t    success: function (res) {\r\n\t\t\t\t\t\tif (res.tempFilePaths[0].toLowerCase().indexOf('.jpg') >= 0 || res.tempFilePaths[0].toLowerCase().indexOf('.jpeg') >= 0) {\r\n\t\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\t\turl: getApp().globalData.allUrl + check,\r\n\t\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\t\tfilePath: res.tempFilePaths[0],\r\n\t\t\t\t\t\t\t\tsuccess (url) {\r\n\t\t\t\t\t\t\t\t\tlet data = JSON.parse(url.data)\r\n\t\t\t\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t\t\t\tif (data.code!==1) {\r\n\t\t\t\t\t\t\t\t\t\tToast.fail(data.message)\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthat.faceImg = res.tempFilePaths\r\n\t\t\t\t\t\t\t\t\t\tthat.ifDisabled = true\r\n\t\t\t\t\t\t\t\t\t\tthat.imgBack = data.data\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t\t  \tToast.fail('上传失败')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tToast.fail('请选择JPG图片')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t    }\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '删除图片',\r\n\t\t\t\t\tcontent: '是否删除已经检测通过的照片',\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tthat.faceImg = []\r\n\t\t\t\t\t\t\tthat.ifDisabled = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tprevImg () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\turls: that.faceImg,\r\n\t\t\t\tlongPressActions: {\r\n\t\t\t\t\titemList: ['发送给朋友', '保存图片', '收藏'],\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tconsole.log('选中了第' + (data.tapIndex + 1) + '个按钮,第' + (data.index + 1) + '张图片');\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\tconsole.log(err.errMsg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t},\r\n\t\t\tsubmit () {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tif (!this.formData.userName) {\r\n\t\t\t\t\tToast.fail('请输入姓名')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!this.formData.phone) {\r\n\t\t\t\t\tToast.fail('请输入手机号码')\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (!this.phoneRules(this.formData.phone)) {\r\n\t\t\t\t\t\tToast.fail('请输入正确的手机号码')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.isLoading = true\r\n\t\t\t\tlet form = Object.assign({}, that.imgBack, that.formData)\r\n\t\t\t\tconsole.log(form, that.imgBack)\r\n\t\t\t\tfaceRegister(form).then((res) => {\r\n\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t\tif (res.data.code!==1) {\r\n\t\t\t\t\t\tToast.fail(res.data.message)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tToast.success(res.data.message)\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '人脸录制成功',\r\n\t\t\t\t\t\t\tcontent: '是否继续录制',\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tthat.formData= {\r\n\t\t\t\t\t\t\t\t\t  addr: '', // 用户地址\r\n\t\t\t\t\t\t\t\t\t  userName: '', // 用户名\r\n\t\t\t\t\t\t\t\t\t  phone: '', // 手机号\r\n\t\t\t\t\t\t\t\t\t  wiegandCard: '', // 韦根号\r\n\t\t\t\t\t\t\t\t\t  dutyCompanyId: '23901', // 部门选择\r\n\t\t\t\t\t\t\t\t\t  type: '0' // 用户类型 默认为 0 （0： 用户；1：访客）\r\n\t\t\t\t                      }\r\n\t\t\t\t\t\t\t\t\t  that.imgBack = {}\r\n\t\t\t\t\t\t\t\t\t  that.faceImg = ''\r\n\t\t\t\t\t\t\t\t\t  that.pickIndex = 0\r\n\t\t\t\t\t\t\t\t\t  that.ifDisabled = false\r\n\t\t\t\t\t\t\t\t\t  that.current = 1\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.$emit('change', 0)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\t  \tToast.fail('提交失败')\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\tToast.fail(err.data.message)\r\n\t\t\t\t\tthat.isLoading = false\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(this.formData)\r\n\t\t\t},\r\n\t\t\tphoneRules (phone) {\r\n\t\t\t  let regExp = /^[1]([3-9])[0-9]{9}$/\r\n\t\t\t  // console.log(regExp.test(phone))\r\n\t\t\t  if (typeof Number(phone) !== 'number') {\r\n\t\t\t    return false\r\n\t\t\t  } else if (!regExp.test(phone)) {\r\n\t\t\t    return false\r\n\t\t\t  } else if (phone.length > 11) {\r\n\t\t\t    return false\r\n\t\t\t  } else if (phone.length < 11) {\r\n\t\t\t    return false\r\n\t\t\t  }\r\n\t\t\t  return true\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.addface{\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #646566;\r\n\t}\r\n\t.addface .title{\r\n\t\twidth: 180rpx;\r\n\t\tline-height: 68rpx;\r\n\t\ttext-align: right;\r\n\t\tmargin-right: 20rpx;\r\n\t\tpadding-right: 30rpx;\r\n\t}\r\n\t.addface .cell{\r\n\t\twidth: 100%;\r\n\t\theight: 108rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tbox-sizing: border-box;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tborder-bottom: 2rpx solid #ebedf0;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\t.addface .cell .row{\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t}\r\n\t.uni-list-cell.uni-list-cell-pd{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t.rule{\r\n\t\tflex: 1;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: center;\r\n\t}\r\n\t.rule .input{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 10rpx;\r\n\t}\r\n\t.rule .input .uni-input{\r\n\t\t    width: 300rpx;\r\n\t\t    height: 68rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-wrap: wrap;\r\n\t\t\talign-items: center;\r\n\t}\r\n\t.rules:before {\n    color: #ee0a24;\r\n\tposition: absolute;\n    font-size: 32rpx;\n    content: \"*\";\n}\r\n.submit1{\r\n\twidth: 100%;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 64rpx 32rpx 32rpx;\r\n\tbox-sizing: border-box;\r\n}\r\n.submit1 button.van-button--normal .van-button__text.van-button__text{\r\n\tfont-size: 28rpx !important;\r\n}\r\n.submit1 button.van-button--normal{\r\n\theight: 88rpx;\r\n\t    width: 576px;\r\n}\r\n\r\n.delete{\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tz-index: 999;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\twidth: 40rpx;\r\n\theight: 40rpx;\r\n\tcolor: #fff;\r\n\tfont-size: 28rpx;\r\n\tbackground-color: rgba(0,0,0,.7);\r\n\tborder-radius: 0 0 0 38rpx;\r\n}\r\n.delete .cha{\r\n\tline-height: 40rpx;\r\n\tposition: absolute;\r\n\tright: 0;\r\n}\n</style>\n","import mod from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/Tools/Develop/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}